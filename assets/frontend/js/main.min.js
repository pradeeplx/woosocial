!function(o,i){var a={cache:function(){a.els={},a.vars={},a.vars.is_hidden_class="iconic-woosocial--is-hidden",a.vars.animate_spin_class="iconic-woosocial-spin",a.vars.add_to_cart_buttons_class=".iconic-woosocial-add-to-cart-wrapper .add_to_cart_button",a.vars.card_grid_cards_class=".iconic-woosocial-card-grid .iconic-woosocial-card",a.vars.card_hover_class="iconic-woosocial-card--hover",a.els.document_body=o(i.body),a.els.actions_list=o(".iconic-woosocial-actions"),a.els.tab_links=o(".iconic-woosocial-profile-link"),a.els.tab_content=o(".iconic-woosocial-tab-content"),a.els.load_more_button=o(".iconic-woosocial-load-more"),a.els.action_blocks=o(".iconic-woosocial-action"),a.els.likes_container=o(".iconic-woosocial-user-likes"),a.els.following_container=o(".iconic-woosocial-following"),a.els.followers_container=o(".iconic-woosocial-followers"),a.els.add_to_cart_buttons=o(".iconic-woosocial-add-to-cart-wrapper .add_to_cart_button"),a.els.tick_icon=o('<i class="iconic-woosocial-ic-tick"></i>'),a.els.loading_icon=o('<i class="iconic-woosocial-ic-loading iconic-woosocial-spin"></i>'),a.els.card_grids=o(".iconic-woosocial-card-grid"),a.els.breakpoint_elements=o("[data-breakpoints]"),a.els.breakpoints=[]},on_ready:function(){a.cache(),a.setup_follow_actions(),a.setup_product_like_action(),a.setup_tabs(),a.setup_load_more(),a.add_to_cart(),a.setup_breakpoints(),a.check_breakpoints(),a.setup_cards()},on_scroll:function(){},on_resize:function(){a.check_breakpoints()},setup_follow_actions:function(){o(".iconic-woosocial-follow-action").on("click",function(){var i=o(this),t=i.attr("data-user-id"),c=i.attr("data-type"),s="iconic-woosocial-follow-action--loading";"login"!==c&&(i.hasClass(s)||(i.addClass(s),o.ajax({type:"GET",url:iconic_woosocial_vars.ajax_url,cache:!1,dataType:"jsonp",crossDomain:!0,data:{action:"iconic_woosocial_follow_action",nonce:iconic_woosocial_vars.nonce,user_id:t,type:c},success:function(o){i.text(o.button.text),i.attr("data-type",o.button.type),i.removeClass(s),i.removeClass("iconic-woosocial-follow-action--"+c),i.addClass("iconic-woosocial-follow-action--"+o.button.type),o.add_follow_html&&a.els.actions_list.prepend(o.add_follow_html)},error:function(o){}})))})},setup_product_like_action:function(){o(i).on("click",".iconic-woosocial-product-like-action",function(){var i=o(this),a=i.closest(".iconic-woosocial-product-likes"),t=i.attr("data-product-id"),c=i.attr("data-type"),s=i.find(".iconic-woosocial-product-like-button__count"),n="iconic-woosocial-product-like-action--loading",e=i.find("i");i.closest(".iconic-woosocial-action");return"login"!==c?(i.hasClass(n)||(i.addClass(n),o.ajax({type:"GET",url:iconic_woosocial_vars.ajax_url,cache:!1,dataType:"jsonp",crossDomain:!0,data:{action:"iconic_woosocial_product_like_action",nonce:iconic_woosocial_vars.nonce,product_id:t,type:c},success:function(o){if(s.length>0){var t=parseInt(s.text()),l="like"===c?t+1:t-1;s.text(l),i.attr("data-type",o.button.type),i.removeClass(n),i.removeClass("iconic-woosocial-product-like-action--"+c),i.addClass("iconic-woosocial-product-like-action--"+o.button.type),"unlike"===o.button.type?e.attr("class","iconic-woosocial-ic-heart-full"):e.attr("class","iconic-woosocial-ic-heart"),o.add_like_html&&a.find(".iconic-woosocial-product-likes__item--like-button").after(o.add_like_html),o.remove_like_class&&a.find(o.remove_like_class).remove()}},error:function(o){}})),!1):void 0})},setup_tabs:function(){a.els.tab_links.on("click",function(){var i=o(this).attr("href"),t="iconic-woosocial-profile-link--active";return a.els.tab_links.removeClass(t),o(this).addClass(t),a.els.tab_content.hide(),o(i).show(),a.check_breakpoints(),!1})},spin_icon_start:function(o){o.addClass(a.vars.animate_spin_class)},spin_icon_stop:function(o){o.removeClass(a.vars.animate_spin_class)},disable_load_more_button:function(o){o.html(iconic_woosocial_vars.strings.no_more).removeAttr("href").addClass("iconic-woosocial-load-more--disabled")},setup_load_more:function(){a.els.load_more_button.on("click",function(){var i=o(this),t=i.find("i");return i.hasClass("iconic-woosocial-load-more--disabled")?!1:(a.spin_icon_start(t),o(this).hasClass("iconic-woosocial-load-more--activity")&&a.load_more_activity(o(this),function(){a.spin_icon_stop(t)}),o(this).hasClass("iconic-woosocial-load-more--likes")&&a.load_more_likes(o(this),function(){a.spin_icon_stop(t)}),o(this).hasClass("iconic-woosocial-load-more--followers")&&a.load_more_followers(o(this),function(){a.spin_icon_stop(t)}),void(o(this).hasClass("iconic-woosocial-load-more--following")&&a.load_more_following(o(this),function(){a.spin_icon_stop(t)})))})},load_more_activity:function(i,t){var c=parseInt(i.attr("data-limit")),s=parseInt(i.attr("data-offset")),n=c+s,e=i.attr("data-user-id"),l=i.attr("data-profile-user-id"),r=i.closest("li");o.ajax({type:"GET",url:iconic_woosocial_vars.ajax_url,cache:!1,dataType:"jsonp",crossDomain:!0,data:{action:"iconic_woosocial_load_more_activity",nonce:iconic_woosocial_vars.nonce,limit:c,offset:s,user_id:e,profile_user_id:l},success:function(o){o.activity_html?(r.before(o.activity_html),i.attr("data-offset",n)):a.disable_load_more_button(i),void 0!==t&&t(o)},error:function(o){}})},load_more_likes:function(i,t){var c=parseInt(i.attr("data-limit")),s=parseInt(i.attr("data-offset")),n=c+s,e=i.attr("data-user-id");o.ajax({type:"GET",url:iconic_woosocial_vars.ajax_url,cache:!1,dataType:"jsonp",crossDomain:!0,data:{action:"iconic_woosocial_load_more_likes",nonce:iconic_woosocial_vars.nonce,limit:c,offset:s,user_id:e},success:function(o){o.likes_html?(a.els.likes_container.append(o.likes_html),i.attr("data-offset",n)):a.disable_load_more_button(i),void 0!==t&&t(o)},error:function(o){}})},load_more_followers:function(i,t){var c=parseInt(i.attr("data-limit")),s=parseInt(i.attr("data-offset")),n=c+s,e=i.attr("data-user-id");o.ajax({type:"GET",url:iconic_woosocial_vars.ajax_url,cache:!1,dataType:"jsonp",crossDomain:!0,data:{action:"iconic_woosocial_load_more_followers",nonce:iconic_woosocial_vars.nonce,limit:c,offset:s,user_id:e},success:function(o){console.log(o),o.followers_html?(a.els.followers_container.append(o.followers_html),i.attr("data-offset",n)):a.disable_load_more_button(i),void 0!==t&&t(o)},error:function(o){}})},load_more_following:function(i,t){var c=parseInt(i.attr("data-limit")),s=parseInt(i.attr("data-offset")),n=c+s,e=i.attr("data-user-id");o.ajax({type:"GET",url:iconic_woosocial_vars.ajax_url,cache:!1,dataType:"jsonp",crossDomain:!0,data:{action:"iconic_woosocial_load_more_following",nonce:iconic_woosocial_vars.nonce,limit:c,offset:s,user_id:e},success:function(o){console.log(o),o.following_html?(a.els.following_container.append(o.following_html),i.attr("data-offset",n)):a.disable_load_more_button(i),void 0!==t&&t(o)},error:function(o){}})},add_to_cart:function(){a.els.document_body.on("click",a.vars.add_to_cart_buttons_class,function(){var i=o(this),t=i.text();i.attr("data-button-text",t).append(a.els.loading_icon)}),a.els.document_body.on("added_to_cart",function(o,i,t,c){if("undefined"!=typeof c){var s=c.closest(".iconic-woosocial-add-to-cart-wrapper"),n=c.attr("data-button-text");s.length>0&&(c.html(n).append(a.els.tick_icon),setTimeout(function(){c.html(n)},2e3))}})},setup_breakpoints:function(){a.els.breakpoint_elements.length>0&&a.els.breakpoint_elements.each(function(i,t){var c=o(t),s=c.attr("data-breakpoints"),n=o.parseJSON(s),e={element:c,breakpoints:n,width:0};a.els.breakpoints.push(e)}),a.els.document_body.on("element_width_change",function(o,i){a.update_breakpoints(i)})},check_breakpoints:function(){a.els.breakpoints.length>0&&o.each(a.els.breakpoints,function(o,i){var t=i.width,c=i.element.width();c!==t&&(i.width=c,a.els.document_body.trigger("element_width_change",[i]))})},update_breakpoints:function(i){var a=!1;o.each(i.breakpoints,function(o,t){i.width<=t.max_width&&(a?t.max_width<=a&&(a=t.max_width):a=t.max_width)}),o.each(i.breakpoints,function(o,t){t.max_width===a?i.element.addClass(t["class"]):i.element.removeClass(t["class"])})},setup_cards:function(){a.els.document_body.hoverIntent(function(){var i=o(this);i.addClass(a.vars.card_hover_class)},function(){var i=o(this);i.removeClass(a.vars.card_hover_class)},a.vars.card_grid_cards_class)}};o(i).ready(a.on_ready()),o(window).on("scroll",function(){a.on_scroll()}),o(window).on("resize",function(){a.on_resize()})}(jQuery,document);